"use strict";define(function(t,e,a){var n=t("react"),l=t("reflux"),r=(t("./crudBtn"),t("./dataRow")),c=t("../stores/crud_store"),i=n.createClass({displayName:"DataTable",mixins:[l.connect(c,"data")],getInitialState:function(){return{data:[]}},onTableBtnClick:function(t,e){var a=this.state.data;switch(t){case"modify":this.props.callbackParent(e);break;case"delete":var n=a.indexOf(e);-1!=n&&a.splice(n,1),this.setState({data:a})}},render:function(){var t=[];return this.state.data.forEach(function(e){t.push(n.createElement(r,{key:e.id,data:e,callbackParent:this.onTableBtnClick}))}.bind(this)),n.createElement("table",{className:"col-table",ref:"tableList"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("td",{width:"100"},"标题"),n.createElement("td",{width:"80"},"作者"),n.createElement("td",{width:"150"},"发布时间"),n.createElement("td",{width:"150"},"操作"))),n.createElement("tbody",null,t))}});a.exports=i});