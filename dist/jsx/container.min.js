"use strict";define(function(t,e,a){var i=t("react"),n=t("./crudBtn"),s=t("./infoBox"),l=t("./dataTable"),o=i.createClass({displayName:"Container",getInitialState:function(){return{infoBtnType:"add",articalId:0,infoStyle:{display:"none"}}},onAddClick:function(){this.setState({infoBtnType:"add",infoStyle:{display:"block"}});var t=this.refs.infoBox;t.setState({id:this.state.articalId})},onModifyClick:function(t){this.refs.infoBox.setState({id:t.id,title:t.title,author:t.author}),this.setState({infoBtnType:"modify",infoStyle:{display:"block"}})},onInfoClick:function(t,e){var a=this.refs.dataTable,i=a.state.data,n=this.state.infoBtnType;if(e){if("add"==n){var s=++e.id;this.setState({articalId:s}),i.push(e)}if("modify"==n){var l;for(l in i)if(i[l].id==e.id)break;i.splice(l,1,e)}this.refs.dataTable.setState({data:i})}this.setState({infoStyle:{display:t}})},setLastId:function(t){this.setState({articalId:t})},render:function(){return i.createElement("div",{className:"container"},i.createElement("div",{className:"col-top"},i.createElement("h1",{className:"col-title"},"增删改DEMO"),i.createElement(n,{btnName:"添加",className:"btn btn-add",callbackParent:this.onAddClick})),i.createElement("div",{className:"col-info",style:this.state.infoStyle},i.createElement(s,{ref:"infoBox",callbackParent:this.onInfoClick})),i.createElement(l,{ref:"dataTable",source:this.props.dataSource,callbackParent:this.onModifyClick,setLastId:this.setLastId}))}});return o});