"use strict";define(function(e,t,n){var a=e("react"),l=e("./crudBtn"),r=a.createClass({displayName:"InfoBox",getInitialState:function(){return{id:0,title:"",author:""}},okHandler:function(e){var t,n;if(this.refs.title.value){var a=this.state.id;t={id:a,title:this.refs.title.value,author:this.refs.author.value?this.refs.author.value:"none",description:"none",pubtime:new Date},n="none"}else t=null,n="block",alert("标题不能为空");this.reset(),this.props.callbackParent(n,t)},cancelHander:function(e){this.reset(),this.props.callbackParent("none")},changeHandler:function(e){var t={};t[e.target.getAttribute("name")]=e.target.value,this.setState(t)},reset:function(){this.setState({id:"",title:"",author:""})},render:function(){return a.createElement("form",null,a.createElement("ul",null,a.createElement("li",null,a.createElement("span",null,"标题"),a.createElement("span",null,a.createElement("input",{ref:"title",name:"title",type:"text",value:this.state.title,onChange:this.changeHandler}))),a.createElement("li",null,a.createElement("span",null,"作者"),a.createElement("span",null,a.createElement("input",{ref:"author",name:"author",type:"text",value:this.state.author,onChange:this.changeHandler})))),a.createElement("div",{className:"col-btn"},a.createElement(l,{btnName:"确定",className:"btn btn-ok",callbackParent:this.okHandler}),a.createElement(l,{btnName:"取消",className:"btn btn-cancel",callbackParent:this.cancelHander})))}});return r});