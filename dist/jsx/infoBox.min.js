"use strict";define(function(e,t,a){var n=e("react"),l=n.createClass({displayName:"InfoBox",getInitialState:function(){return{id:"",title:"",author:""}},okHandler:function(e){e.preventDefault(),e.stopPropagation();var t,a;if(this.refs.title.value){var n=this.state.id;n||(n=this.props.articalId),t={id:n,title:this.refs.title.value,author:this.refs.author.value?this.refs.author.value:"none",description:"none",pubtime:new Date},a="none"}else t=null,a="block",alert("标题不能为空");this.reset(),this.props.callbackParent(a,t)},cancelHander:function(e){e.preventDefault(),e.stopPropagation(),this.reset(),this.props.callbackParent("none")},changeHandler:function(e){var t={};t[e.target.getAttribute("name")]=e.target.value,this.setState(t)},reset:function(){this.setState({id:"",title:"",author:""})},render:function(){return n.createElement("form",null,n.createElement("ul",null,n.createElement("li",null,n.createElement("span",null,"标题"),n.createElement("span",null,n.createElement("input",{ref:"title",name:"title",type:"text",value:this.state.title,onChange:this.changeHandler}))),n.createElement("li",null,n.createElement("span",null,"作者"),n.createElement("span",null,n.createElement("input",{ref:"author",name:"author",type:"text",value:this.state.author,onChange:this.changeHandler})))),n.createElement("div",{className:"col-btn"},n.createElement("a",{href:"#",className:"btn btn-ok",onClick:this.okHandler},"确定"),n.createElement("a",{href:"#",className:"btn btn-cancel",onClick:this.cancelHander},"取消")))}});return l});